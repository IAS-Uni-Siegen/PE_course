%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Begin exercise %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ex{Step-up and synchronous buck-boost converters}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Task 1: Boost Converter with no losses %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\task {Boost Converter with no losses}
The boost converter which is shown in \autoref{fig:boost converter} supplies an amplifier with a rated voltage of $U_{\mathrm{2}} = \SI{60}{\volt}$. For this exercise steady-state operation is assumed.

\input{./fig/ex02/Fig_boostConverter.tex}

The specification of the boost converter is given in \autoref{table:Parameters of the circuit}:

\input{./fig/ex02/Fig_ParamtersboostConverter.tex}

First, all losses of the boost converter including the resistance of the inductor are neglected.

\subtask{Derive the duty cycle, which leads to the specific output voltage of $U_{\mathrm{2}} = \SI{60}{\volt}$. The steady state is considered:$i_{\mathrm{L}}(t=0)=i_{\mathrm{L}}(t=T_{\mathrm{s}})$}

\begin{solutionblock}
    \input{./fig/ex02/Fig_ECDTeTa.tex}
    ECD is short for equivalent circuit diagram.
    As there are no losses at the transistor, the voltage $U_{\mathrm{1}}$ is equal to $u_{\mathrm{L}}$ for the switch-on period $T_{\mathrm{on}}$.
    \begin{equation}
        U_{\mathrm{1}} = u_{\mathrm{L}} = L \frac{\Delta i_{\mathrm{L}} }{\Delta t} 
    \end{equation}
    This subtask does not consider the complete period $T_{\mathrm{s}}$, but only the switch-on period $T_{\mathrm{on}}$. Furthermore, the initial state of the current $i_{\mathrm{L}}$ must also be considered.
    That is why we can completely rearrange the equation.
    \begin{equation}
        i_{\mathrm{L}}(T_{\mathrm{on}}) =  \frac{U_{\mathrm{1}} }{L}T_{\mathrm{on}} +  i_{\mathrm{L}}(0)
    \end{equation}
    The following meshing can be used for the switch-off time $T_{\mathrm{off}}$.
    \begin{equation}
        U_{\mathrm{1}} = u_{\mathrm{L}} + U_{\mathrm{2}}
    \end{equation}
    Now insert the differential expression for $u_{\mathrm{L}}$. 
    \begin{equation}
        L \frac{\Delta i_{\mathrm{L}} }{\Delta t} = U_{\mathrm{1}} - U_{\mathrm{2}}
    \end{equation}
    The equation for the current $i_{\mathrm{L}}$ at the switch-off time $T_{\mathrm{sw,off}}$ results from the term describing the discharge of the inductance from $T_{\mathrm{sw,off}}$ together with the initial condition of the current at this time.
    \begin{equation}
        i_{\mathrm{L}}(t) = \frac{U_{\mathrm{1}}-U_{\mathrm{2}} }{L} (t-T_{\mathrm{sw,on}})+i_{\mathrm{L}}(T_{\mathrm{sw,on}})
    \end{equation}
    This results in the equation for the entire current curve over the period: 
    \begin{equation}
        i_{\mathrm{L}}(t) = \frac{U_{\mathrm{1}}-U_{\mathrm{2}} }{L} (t-T_{\mathrm{sw,on}})+\frac{U_{\mathrm{1}}}{L}T_{\mathrm{sw,on}}+i_{\mathrm{L}}(0)
    \end{equation}
    If you now consider the steady state $i_{\mathrm{L}}(t=0)=i_{\mathrm{L}}(t=T_{\mathrm{s}})$, this results in the following:
    \begin{equation}
        i_{\mathrm{L}}(0) = \frac{U_{\mathrm{1}}-U_{\mathrm{2}} }{L} (T_{\mathrm{sw,off}})+\frac{U_{\mathrm{1}}}{L}T_{\mathrm{sw,on}}+i_{\mathrm{L}}(0)
    \end{equation}
    Now the initial condition $i_{\mathrm{L}}(0)=0$ is assumed.
    \begin{equation}
        0 = \frac{U_{\mathrm{1}}-U_{\mathrm{2}} }{L} (T_{\mathrm{sw,off}})+\frac{U_{\mathrm{1}}}{L}T_{\mathrm{sw,on}}
    \end{equation}

    \begin{equation}
        U_{\mathrm{1}}T_{\mathrm{sw,on}}= (-U_{\mathrm{1}}+U_{\mathrm{2}})T_{\mathrm{sw,off}}
    \end{equation}

    \begin{equation}
        U_{\mathrm{1}}(T_{\mathrm{sw,off}}+T_{\mathrm{sw,on}})=  U_{\mathrm{2}}T_{\mathrm{sw,off}}
    \end{equation}
    The switch-off period $T_{\mathrm{sw,off}}$ plus the switch-on period $T_{\mathrm{sw,on}}$ is the total period $T_{\mathrm{s}}$.

    The following equation can now be established for the duty cycle.
    \begin{equation}
        \frac{U_{\mathrm{1}}}{U_{\mathrm{2}}}= \frac{T_{\mathrm{sw,off}}}{T_{\mathrm{s}}}= \frac{T_{\mathrm{s}}}{T_{\mathrm{s}}}-\frac{T_{\mathrm{sw,on}}}{T_{\mathrm{s}}} = 1-D
    \end{equation}

    \begin{equation}
        D = 1-\frac{U_{\mathrm{1}}}{U_{\mathrm{2}}} = 1- \frac {\SI{12}{\volt}} {\SI{60}{\volt}} = 0.8
    \end{equation}
\end{solutionblock}


\subtask{Determine the average input current $\overline i_{\mathrm{L}}$}
\begin{solutionblock}
    With neglecting the losses $P_{\mathrm{l}} = \SI{0}{\watt}$ of the boost converter and assuming a good smoothing of the inductor current, the average value $\overline i_{\mathrm{L}}$ is equal $i_{\mathrm{1}}$ and can be calculated using the power balance.
    \begin{equation}
        P_{\mathrm{2}} = U_{\mathrm{2}} I_{\mathrm{2}} = {\SI{60}{\volt}} \cdot {\SI{2}{\ampere}} = {\SI{120}{\watt}}
    \end{equation}
    Since no losses are taken, the power  $P_{\mathrm{1}}$ is equal to  $P_{\mathrm{2}}$.
    This results in the average current $\overline i_{\mathrm{L}}$:
    \begin{equation}
         I_{\mathrm{1}} = \overline i_{\mathrm{L}} = \frac{P_{\mathrm{1}}}{U_{\mathrm{1}}}= \frac{\SI{120}{\watt}}{\SI{12}{\volt}} = \SI{12}{\ampere}
    \end{equation}
    An alternative solution would be to determine the average current $\overline i_{\mathrm{L}}$ via the duty cycle.
    \begin{equation}
    \frac{I_{\mathrm{1}}}{I_{\mathrm{2}}}=\frac{1}{1-D}
    \end{equation}
    \begin{equation}
     I_{\mathrm{1}}=\frac{I_{\mathrm{2}}}{1-D}=\frac{\SI{2}{\ampere}}{1-0.8}= \SI{10}{\ampere}
    \end{equation}
\end{solutionblock}

\subtask{ Define a suitable inductivity for the coil L, so that the boost converter is operating in continuous conduction mode for the minimum output power given in the specification above. Determine the maximal switch-off current $i_{\mathrm{V1}}$ of the transistor $\mathrm{V}_1$ for the rated output current $I_{\mathrm{2}} = \SI{2}{\ampere}$.}
\begin{solutionblock}
    Because no losses are assumed, $P_{\mathrm{1min}}=P_{\mathrm{2min}}$.
    The following equation is used for the average current $I_{\mathrm{1min}}$ over a period to generate the minimum power.
    \begin{equation}
        I_{\mathrm{1min}} = \frac{P_{\mathrm{1min}}}{U_{\mathrm{1}}} = \frac{\SI{10}{\watt}}{\SI{12}{\volt}}= \SI{0.833}{\ampere}
    \end{equation}
    Requirement for BCM, Current is zero at starting point of the period  $i_\mathrm{1BCM}(0)=\SI{0}{\ampere}$.
    At time $T_{\mathrm{sw,on}}$, the average current to provide the minimum power corresponds to twice the value of the $I_{\mathrm{1min}}$.
    \begin{equation}
        i_\mathrm{1BCM}(T_{\mathrm{sw,on}})= 2I_{\mathrm{1min}}= 2\cdot \SI{0.833}{\ampere} = \SI{1.667}{\ampere}
    \end{equation}
    The differential form of the inductance equation is used for the further calculation.
    \begin{equation}
        u_\mathrm{L}=L\frac{\mathrm{d}i_\mathrm{L}}{\mathrm{d}t}
    \end{equation}
    Simplifications can be assumed for the lossless case.
    \begin{equation}
        u_\mathrm{L}=L\frac{\Delta i_\mathrm{L}}{\Delta t}
    \end{equation}
    Only the switch-on period is considered, therefore $\Delta t = T_{\mathrm{sw,on}}$. Furthermore, $u_\mathrm{L}=U_\mathrm{1}$ and $\Delta i_\mathrm{L} = 2 I_\mathrm{1min}$.
    The switch-on period can be determined by the known duty cycle D and the known frequency $f_{\mathrm{s}}$.
    \begin{equation}
        T_{\mathrm{sw,on}} = D T_{\mathrm{s}} = \Delta t = \frac{D}{f_{\mathrm{s}}} = \frac{0.8}{\SI{100}{\kilo\hertz}}=\SI{8}{\micro\sec}
    \end{equation}
    The following inductivity equation can be derived from this.
    \begin{equation}
        L=\frac{\Delta t \cdot u_\mathrm{L} }{\Delta i_\mathrm{L}}= \frac{D U_\mathrm{1}}{f_{\mathrm{s}}2I_{\mathrm{1min}}} = \frac{0.8 \cdot \SI{12}{\volt}}{\SI{100}{\kilo\hertz\cdot 2\cdot \SI{10}{\ampere}}} = \SI{57.6}{\micro\henry}
    \end{equation}
    The maximum current flows through the transistor at the end of the switch-on interval.
    \begin{equation}
        I_\mathrm{V1max} = I_\mathrm{ein} + \frac{\Delta I_\mathrm{L}}{2}=\SI{10}{\ampere}+\frac{\SI{1.667}{\ampere}}{2} = \SI{10.833}{\ampere}
    \end{equation}
\end{solutionblock}

\subtask{Calculate a suitable capacity, using the output voltage ripple given in the specification. Determine the current stress of the capacitor $I_\mathrm{C,RMS}$.}
\begin{solutionblock}
    The reaction of the voltage fluctuation on the current fluctuation is neglected. During on-state of the transistor, the output capacitor feed the load. Assuming an constant output current and an ideal capacitor, the output can be adopted as linearly decreasing for this intervall.

    The differential form of the capacitor equation is used for this task.
    \begin{equation}
        i_\mathrm{C}=C \frac{\mathrm{d}u_\mathrm{c}}{\mathrm{d}t}
    \end{equation}
    Simplifications can be assumed for the lossless case.
    \begin{equation}
        i_\mathrm{C}=C \frac{\Delta u_\mathrm{c}}{\Delta t}
    \end{equation}
    In addition, $i_\mathrm{C}=I_\mathrm{2}$ and $\Delta u_\mathrm{c}=\Delta u_\mathrm{2}$.
    $\Delta t$ is again equal to the switch-on period and can be represented by the following equation.
    \begin{equation}
        \Delta t = \frac{D}{f_\mathrm{s}}  
    \end{equation}
    Now that everything is known, the capacity can be determined.
    \begin{equation}
        C = \frac{I_\mathrm{2}\Delta t}{\Delta u_\mathrm{2}}= \frac{I_\mathrm{2}D}{\Delta u_\mathrm{2}f_\mathrm{s}}=\frac{\SI{2}{\ampere}\cdot 0.8}{\SI{120}{\milli\volt} \cdot \SI{100}{\kilo\hertz}}=\SI{133.333}{\micro\farad}
    \end{equation}
     During the on-state of the transistor we can assume an constant current which discharges the capacitor. During of-state the capacitor is charge with the current $i_\mathrm{1}-i_\mathrm{2}$.The average of the capacitor current is zero. An important rule during dimensioning the capacitor is the RMS Value of the current.
     The RMS Value of the current is determined using the following equation.
     \begin{equation}
        I_\mathrm{C}=\sqrt{\frac{1}{T_\mathrm{s}}\int_{0}^{T_\mathrm{s}}i_\mathrm{c}(t)^2\mathrm{d}t}
     \end{equation}
     The switch-on and switch-off periods are now set.
     \begin{equation}
        I_\mathrm{C}=\sqrt{\frac{1}{T_\mathrm{s}}\int_{0}^{DT_\mathrm{s}}i_\mathrm{c}(t)^2\mathrm{d}t+\frac{1}{T_\mathrm{s}}\int_{DT_\mathrm{s}}^{T_\mathrm{s}}i_\mathrm{c}(t)^2\mathrm{d}t}
     \end{equation}
     With neglecting the current ripple (goodsmoothing):
     \begin{equation}
        I_\mathrm{C}=\sqrt{D (I_\mathrm{2})^2+(1-D)(I_\mathrm{1}-I_\mathrm{2})^2}=\sqrt{0.8\cdot (\SI{2}{\ampere})^2+(1-0.8)\cdot(\SI{10}{\ampere}-\SI{2}{\ampere})^2} = \SI{4}{\ampere}
     \end{equation}
     The following equation is now used for the current ripple.
     \begin{equation}
        I_\mathrm{C}=\sqrt{D (I_\mathrm{2})^2[1+\frac{1}{3}[\frac{\Delta i_\mathrm{L}}{2I_\mathrm{2}}]^2]+(1-D)(I_\mathrm{1}-I_\mathrm{2})^2[1+\frac{1}{3}[\frac{\Delta i_\mathrm{L}}{2(I_\mathrm{1}-I_\mathrm{2})}]^2]} 
    \end{equation}
    \begin{equation}
        I_\mathrm{C}=\sqrt{0.8 \cdot (\SI{2}{\ampere})^2 [1+\frac{1}{3}[\frac{\SI{0.833}{\ampere}}{2\cdot (\SI{2}{\ampere})}]^2]+(1-0.8)(\SI{10}{\ampere}- \SI{2}{\ampere})^2[1+\frac{1}{3}[\frac{\SI{0.833}{\ampere}}{2(\SI{10}{\ampere}- \SI{2}{\ampere})}]^2]}=\SI{4.023}{\ampere}
    \end{equation}
\end{solutionblock}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Task 2: Boost Converter with losses %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\task{Boost Converter with losses}
The same parameters as in task 1 are assumed as well as the equivalent circuit diagram. For the following points an ideal smoothed input current and a ripple-free output voltage are assumed.

\subtask{From now on, the influences of the resistor $R_\mathrm{L}$ are considered. Derive the efficiency and voltage ratio $U_\mathrm{1}/U_\mathrm{2}$ of the boost converter, in dependence on the duty cycle D and the resistance ratio $\alpha= R_\mathrm{L}/R$. Sketch both values $\eta$ and  $U_\mathrm{2}/U_\mathrm{1}$ over the duty cycle D and give comments. Calculate D under consideration of $R_\mathrm{L}=\SI{0.2}{\ohm}$.}
\begin{solutionblock}
We are looking for: $\eta= F(D,\alpha)$ and $\frac{U_\mathrm{2}}{U_\mathrm{1}}=F(D,\alpha)$ with $\alpha=\frac{R_\mathrm{L}}{R}$
Assuming a good smoothing of the inductor current yields to $I_\mathrm{L}=\overline i_\mathrm{L}=i\mathrm{L}(t)$
The efficiency is given by the following equation.
\begin{equation}
    \eta = \frac{P_\mathrm{2}}{P_\mathrm{1}} = \frac{P_\mathrm{2}}{P_\mathrm{2}+P_\mathrm{l}} = \frac{U_\mathrm{2} I_\mathrm{2}}{U_\mathrm{2} I_\mathrm{2} +R_\mathrm{L} I_\mathrm{L}^2} \label{eq:efficiency}
\end{equation}
Determine $I_\mathrm{2}$ depending on D and $I_\mathrm{L}$.
\begin{equation}
    I_\mathrm{2}=\frac{1}{T_\mathrm{s}} \int_{0}^{DT_\mathrm{s}} i_\mathrm{C discharg}(t)\mathrm{d}t-\frac{1}{T_\mathrm{s}} \int_{DT_\mathrm{s}}^{T_\mathrm{s}} i_\mathrm{C charg}(t)\mathrm{d}t+\frac{1}{T_\mathrm{s}} \int_{DT_\mathrm{s}}^{T_\mathrm{s}} I_\mathrm{L}(t)\mathrm{d}t
\end{equation}
The following property can now be used.
\begin{equation}
    0 = \frac{1}{T_\mathrm{s}} \int_{0}^{DT_\mathrm{s}} i_\mathrm{C discharg}(t)\mathrm{d}t-\frac{1}{T_\mathrm{s}} \int_{DT_\mathrm{s}}^{T_\mathrm{s}} i_\mathrm{C charg}(t)\mathrm{d}t
\end{equation}
This simplifies the explanation of this expression.
\begin{equation}
    I_\mathrm{2}= \frac{1}{T_\mathrm{s}} \int_{DT_\mathrm{s}}^{T_\mathrm{s}} I_\mathrm{L}(t)\mathrm{d}t
\end{equation}
If the current $I_\mathrm{L}$ is now assumed to be independent of t, the integral can be solved.
\begin{equation}
    I_\mathrm{2}= \frac{I_\mathrm{L}}{T_\mathrm{s}}(T_\mathrm{s}-(DT_\mathrm{s}))=I_\mathrm{L}(1-D)
\end{equation}
Now we insert the equation we have just calculated into equation \eqref{eq:efficiency}.
\begin{equation}
    \eta=\frac{U_\mathrm{2}I_\mathrm{2}}{U_\mathrm{2}I_\mathrm{2}+\frac{ R_\mathrm{L}I_\mathrm{2}^2}{(1-D)^2}}=\frac{U_\mathrm{2}}{U_\mathrm{2}+R_\mathrm{L}I_\mathrm{2}}{(1-D)^2}=\frac{RI_\mathrm{2}}{RI_\mathrm{2}+R_\mathrm{L}I_\mathrm{2}}{(1-D)^2}=\frac{R}{R+R_\mathrm{L}}{(1-D)^2}=\frac{1}{1+\frac{\alpha}{(1-D)^2}}
\end{equation}
If we now look at the original efficiency equation again, the following transformations can be carried out.
\begin{equation}
    \eta=\frac{P_\mathrm{2}}{P_\mathrm{1}} = \frac{U_\mathrm{2}I_\mathrm{2}}{U_\mathrm{1}I_\mathrm{L}}
\end{equation}
If you now convert this equation to $U_\mathrm{2}/U_\mathrm{1}$, you get the following expression. Furthermore you have the expression $I_\mathrm{2}=I_\mathrm{L}(1-D)$
\begin{equation}
    \frac{U_\mathrm{2}}{U_\mathrm{1}}=\eta \frac{I_\mathrm{L}}{I_\mathrm{2}}= \eta \frac{1}{(1-D)}=\frac{1}{1+\frac{\alpha}{(1-D)^2}}\frac{1}{1-D}=\frac{1}{(1-D)+\frac{\alpha}{1-D}}\cdot \frac{(1-D)}{(1-D)}=\frac{1-D}{(1-D)^2+\alpha}
\end{equation}
This results in the following for $\eta$ as a function of D and $\alpha$:
\begin{equation}
    \eta(D,\alpha)=\frac{1}{1+\frac{\alpha}{(1-D)^2}}
\end{equation}
And this results in the following for $\frac{U_\mathrm{2}}{U_\mathrm{1}}$ as a function of D and $\alpha$:
\begin{equation}
    \frac{U_\mathrm{2}}{U_\mathrm{1}}(D,\alpha)=\frac{1-D}{(1-D)^2+\alpha}
\end{equation}
Now determine the required dutycycle under consideration of inductor losses:
$\frac{U_\mathrm{2}}{U_\mathrm{1}}=\frac{D_\mathrm{P}}{(D_\mathrm{P})^2+\alpha}$with $D_\mathrm{P}=1-D$.
As this expression is a quadratic term, the pq formula must be used. To be able to use this, it must first be converted to $D_\mathrm{P}$.
\begin{equation}
    \frac{U_\mathrm{2}}{U_\mathrm{1}}(D_\mathrm{P})^2-D_\mathrm{P}+\frac{U_\mathrm{2}\alpha}{U_\mathrm{1}}=0
\end{equation}
\begin{equation}
    D_\mathrm{P}^2 - \frac{U_\mathrm{1}}{U_\mathrm{2}} D_\mathrm{P}+\alpha
\end{equation}
The first term resulting from the pq formula is:
\begin{equation}
    D_\mathrm{P1}=\frac{1}{2}\frac{U_\mathrm{1}}{U_\mathrm{2}}+\sqrt{(\frac{1}{2}\frac{U_\mathrm{1}}{U_\mathrm{2}})^2-\alpha}= \frac{1}{2}\cdot\frac{\SI{12}{\volt}}{\SI{60}{\volt}}+\sqrt{({\frac{1}{2}}\cdot\frac{\SI{12}{\volt}}{\SI{60}{\volt}})^2-\frac{\SI{0.2}{\ohm}}{\SI{30}{\ohm}}}= 0.158
\end{equation}
If you now insert this into the equation $D_\mathrm{1}=1-D_\mathrm{P1}$, you get the result $D_\mathrm{1}=0.842$.

The second term resulting from the pq formula is:
\begin{equation}
    D_\mathrm{P2}=\frac{1}{2}\frac{U_\mathrm{1}}{U_\mathrm{2}}-\sqrt{(\frac{1}{2}\frac{U_\mathrm{1}}{U_\mathrm{2}})^2-\alpha}= \frac{1}{2}\cdot\frac{\SI{12}{\volt}}{\SI{60}{\volt}}-\sqrt{({\frac{1}{2}}\cdot\frac{\SI{12}{\volt}}{\SI{60}{\volt}})^2-\frac{\SI{0.2}{\ohm}}{\SI{30}{\ohm}}}= 0.042
\end{equation}
If you now insert this into the equation $D_\mathrm{2}=1-D_\mathrm{P2}$, you get the result $D_\mathrm{2}=0.958$.
The duty cycle of $D_\mathrm{2}=0.958$ is only a theoretical value. For the design of the converter, the smaller duty cycle will bechosen, because of lower losses.
In the following, the currents $I_\mathrm{L1}$ and $I_\mathrm{L2}$ are determined in order to be able to make a statement about the losses.
\begin{equation}
    I_\mathrm{L1} = \frac{I_\mathrm{2}}{1-D_\mathrm{1}}= \frac{\SI{2}{\ampere}}{1-0.842}=\SI{12.679}{\ampere}
\end{equation}
\begin{equation}
    I_\mathrm{L2} = \frac{I_\mathrm{2}}{1-D_\mathrm{2}}= \frac{\SI{2}{\ampere}}{1-0.958}=\SI{47.321}{\ampere}
\end{equation}
If you now put these current values in relation to the losses, the following can be determined by using the relation $P=I^2R$.
\begin{equation}
    \frac{(\SI{47.321}{\ampere})^2}{(\SI{12.679}{\ampere})^2}=13.9296
\end{equation}
The losses are 14 times higher by a duty cycle of 0.958.
\end{solutionblock}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Task 3: Buck-Boost converter combination
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\task{Buck-Boost converter cascade}
Cascading a buck converter and a boost converter (common inductance) to realize a DC/DC converter with a wide input voltage range.

% Schematic of Buck Boost Converter cascade
\input{./fig/ex02/Fig_BuckBoostConverterCascade.tex}

%Table of parameter values 
\input{./fig/ex02/FigTab_BuckBoostConverterCascade.tex}

The output voltage is kept at the specified constant value by adjusting the duty cycles $D_1$ 
(of transistor  $T_1$) and $D_2$ (of transistor $T_2$) using a control system. Both transistors operate at the same switching frequency.
The ripple of the output voltage and the current in the inductance can be ignored. The current in L shows a continuous course.
Both transistors operates with the same relative duty cycle $D_1 = D_2 = D$.

\subtask{Calculate the relative duty cycle of the transistors $T_1$ and $T_2$ depending on the voltage transformation ratio $U_\mathrm{2}/U_\mathrm{1}$}
\subtask{Calculate $I_L$ depending on $D$. Plot $D$ and $I_L$ against $U_\mathrm{1}$ and enter the numerical values for $U_\mathrm{1} = \SI{320}{\volt}$, $U_\mathrm{1} = \SI{400}{\volt}$ and $U_\mathrm{1} = \SI{720}{\volt}$.}
\vspace{2em}\par
% Explaining text for the next subtask
Both transistors should now be able to have different duty cycles. Assume that the transistors are switched on at the same time.

\subtask{Graphically represent the time profiles of the voltage at $L$ for $U_\mathrm{1}$ = $\SI{320}{\volt}$ and
 $D_1 = 0.9$ or for $U_\mathrm{1}$ = 720V and $D_2 = 0.1$ for one pulse period each.}
\subtask{Calculate the voltage transformation ratio in general as a function of $D_1$ and $D_2$.}
\subtask{Express the current IL as a function of the specified operating parameters
($U_\mathrm{1}$, $U_\mathrm{2}$, $P_\mathrm{2}$) and as a function of $D_\mathrm{1}$ and $D_\mathrm{2}$.}
\subtask{Are the calculated relationships valid if $T_1$ and $T_2$ do not switch synchronously or operate with
 different clock frequencies?}
\vspace{2em}\par
% Explaining text for the next subtask
If the transistors $T_1$ and $T_2$ are switched on, a constant voltage drop $U_\mathrm{F}=\SI{2.5}{\volt}$ occurs at transistors,
 regardless of the current. All other components are considered ideal and loss-free.

\subtask{How should $D_1$ and $D_2$ be selected so that the losses of the overall system are minimal? Take the relationships
 of previous calculation for the voltage transformation ratio and the value of $I_L$.}
\subtask{Plot $D_\mathrm{1}$ and $D_\mathrm{2}$ and the efficiency graphically over $U_\mathrm{1}$ and give numerical values
 for $U_\mathrm{1} = \SI{320}{\volt}$, $U_\mathrm{1} = \SI{400}{\volt}$ and $U_\mathrm{1} = \SI{720}{\volt}$.}
\subtask{Calculate the efficiency for following three cases:\\
$U_\mathrm{1}=\SI{320}{\volt}$, $D_1 = D_2 = 0.56$,  $I_L = \SI{28}{\ampere}$  \\
$U_\mathrm{1}=\SI{400}{\volt}$, $D_1 = D_2 = 0.5$, $I_L = \SI{22.5}{\ampere}$  \\
$U_\mathrm{1}=\SI{720}{\volt}$, $D_1 = D_2 = 0.36$,  $I_L = \SI{19.5}{\ampere}$ \\
and compare the numerical values.}
\subtask{How high is the maximum efficiency gain and at which operating point does it occur? Give a clear explanation.}



