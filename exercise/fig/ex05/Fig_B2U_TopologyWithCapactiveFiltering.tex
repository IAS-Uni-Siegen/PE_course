%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 % B2U rectifier with capacitive output filtering
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{figure}[htb]
        \begin{center}
            \begin{circuitikz}[european currents,european resistors,american inductors]
                \draw
                % Base point for voltage supply
                (0,0) coordinate (jU1v)
                % Add supply U1 [open, o-o, v = $u_1(t)\hspace{0.5cm}$, voltage = straight]
                (jU1v) to [open, o-o, v = $u_1(t)\hspace{0.5cm}$, voltage = straight] ++(0,-2) coordinate (jU1g)
                % Add arrow and Text
                (jU1v) ++(0.5,0) node[currarrow](I1){}  
                (I1)  node[anchor=south,color=black]{$i_\mathrm{1}(t)$}  
                % Add connection to diode D1/D4
                (jU1v) to [short, -*] ++(2,0) coordinate (jaD1)
                % Add D1 
                (jaD1) to [diode, l=$D_1$]  ++(0,1.5)  coordinate (jkD1)
                % Add D4 connection S
                (jaD1)  ++(0,-3.5)  coordinate (jaD4)
                % Add D4 
                (jaD4) to [diode, l=$D_4$] ++(0,1.5)  coordinate (jkD4)
                % Add connection D4 to D1
                (jkD4) to [short, -]  (jaD1)
                % Add connection to diode D3/D2
                (jU1g) to [crossing, -*, mirror] ++(4,0)  coordinate (jkD2)
                % Add connection D2 to D3
                (jkD2) to [short, -] ++(0,2) coordinate (jaD3)
                % Add D3 
                (jaD3) to [diode, l=$D_3$]  ++(0,1.5)  coordinate (jkD3)
                % Add D2 connection 
                (jkD2)  ++(0,-1.5)  coordinate (jaD2)
                % Add D2 
                (jaD2) to [diode, l=$D_2$] (jkD2)
                % Add connection D1 to D3
                (jkD1) to [short, -*] (jkD3)                
                % Add connection to capacitor plus
                (jkD3) to [short, -*, i=$i_2(t)$] ++(2,0) coordinate (jvCp)
                % Add connection to current source vI0
                (jvCp) to [short, -] ++(1.5,0) coordinate (jvI0)
                % Add coordinate of current source gI0
                (jvI0) ++(0,-5) coordinate (jgI0)
                % Add current source I0
                (jvI0) to [isource, l=$I_0$] (jgI0)
                % Add connection to capacitor minus
                (jgI0) to [short, -*] ++(-1.5,0) coordinate (jgCm)
                % Add capacitor
                (jvCp) to [C, v= $u_\mathrm{2}(t)$, voltage = straight, l=$C$, i=${i_\mathrm{C}(t)}$] (jgCm)
                % Add connection to D2
                (jgCm) to [short, -*] (jaD2)
                % Add connection D2 to D4
                (jaD2) to [short, -] (jaD4);
            \end{circuitikz}
    \end{center}
        \caption{B2U rectifier with capacitive output filtering.}
        \label{fig:B2U_Topology_Cap_Filtering}
    \end{figure}


